Сервис сокращения URL
Чтобы написать сервис, который будет сжимать длинные URL до нескольких символов, для начала вам нужно разработать сервер.

Сервер должен быть доступен по адресу http://localhost:8080 и предоставлять два эндпоинта:

Эндпоинт с методом POST и путём /. Сервер принимает в теле запроса строку URL как text/plain и возвращает ответ с кодом 201 и сокращённым URL как text/plain.
Пример запроса к серверу:

Пример ответа от сервера:
Эндпоинт с методом GET и путём /{id}, где id — идентификатор сокращённого URL (например, /EwHXdJfB). В случае успешной обработки запроса сервер возвращает ответ с кодом 307 и оригинальным URL в HTTP-заголовке Location.
Пример запроса к серверу:

Пример ответа от сервера:
На любой некорректный запрос сервер должен возвращать ответ с кодом 400.

Скопировать кодTEXT

HTTP/1.1 307 Temporary Redirect
Location: https://bcc.kz/ 


Plain Text

GET /EwHXdJfB HTTP/1.1
Host: localhost:8080
Content-Type: text/plain 

Plain Text

HTTP/1.1 201 Created
Content-Type: text/plain
Content-Length: 30

http://localhost:8080/EwHXdJfB 

Plain Text

POST / HTTP/1.1
Host: localhost:8080
Content-Type: text/plain

Покройте сервис юнит-тестами. Сконцентрируйтесь на покрытии тестами функций-обработчиков (хендлеров, которых пока два), чтобы защитить API сервиса от случайных изменений.

Добавьте возможность конфигурировать сервис с помощью аргументов командной строки.

Создайте конфигурацию или переменные для запуска со следующими флагами:

Флаг -a отвечает за адрес запуска HTTP-сервера (значение может быть таким: localhost:8888).
Флаг -b отвечает за базовый адрес результирующего сокращённого URL (значение: адрес сервера перед коротким URL, например http://localhost:8000/qsd54gFg).
Совет: создайте отдельный пакет config, где будет храниться структура с вашей конфигурацией и функция, которая будет инициализировать поля этой структуры. По мере усложнения конфигурации вы сможете добавлять необходимые поля в вашу структуру и инициализировать их.

Реализуйте логирование сведений о запросах и ответах на сервере для всех эндпоинтов, которые у вас уже есть.

Сведения о запросах должны содержать URI, метод запроса и время, затраченное на его выполнение.
Сведения об ответах должны содержать код статуса и размер содержимого ответа.
Эту функциональность нужно реализовать через middleware. Используйте один из сторонних пакетов для логирования:

github.com/rs/zerolog,
go.uber.org/zap,
github.com/sirupsen/logrus.
Все сообщения логера должны быть на уровне Info